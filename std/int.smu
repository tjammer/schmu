signature:
  type t = int
  val hash : (t) -> int
  val equal : (t, t) -> bool

fun hash(i):
  -- basically murmurhash
  let m = 0xc6a4a7935bd1e995
  let r = 47
  let h& = lxor(0, 8 * m)
  let k& = !i
  &k <- k * m
  &k <- lxor(k, lshr(k, r))
  &k <- k * m

  &h <- lxor(h, k)
  &h <- h * m

  &h <- lxor(h, lshr(h, r))
  &h <- h * m
  &h <- lxor(h, lshr(h, r))
  h

fun equal(a, b): a == b
