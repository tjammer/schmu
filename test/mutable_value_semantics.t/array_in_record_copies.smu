(type arrec {:a& (array int)})

(val a& {:a $[10]})
(val b a)
(array-set &(.a a) 0 12)

(fun print-thing [a]
  (print (fmt-str (array-get (.a a) 0))))

(print-thing a)
(print-thing b)

(print "in fun")

(fun in-fun []
  (val a& {:a $[10]})
  (val b a)
  (array-set &(.a a) 0 12)

  (print-thing a)
  (print-thing b))

(in-fun)
