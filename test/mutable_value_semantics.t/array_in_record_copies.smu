(type arrec {:a& (array int)})

(def a& {:a [10]})
(def b (copy a))
(set &a.a.[0] 12)

(defn print-thing [a]
  (print (fmt-str (.a a).[0])))

(print-thing a)
(print-thing b)

(print "in fun")

(defn in-fun []
  (def a& {:a [10]})
  (def b (copy a))
  (set &a.a.[0] 12)

  (print-thing a)
  (print-thing b))

(in-fun)
