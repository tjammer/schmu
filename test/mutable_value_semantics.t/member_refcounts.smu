(type r {:a (array int)})
(def a& [10])
(def r {:a (copy a)})
(set &(array-get a 0) 20)
(print (fmt-str (array-get (.a r) 0)))

(def r [(copy a)])
(set &(array-get a 0) 30)
(print (fmt-str (array-get (array-get r 0) 0)))

(def r (#some (copy a)))
(set &(array-get a 0) 40)
(match r
  ((#some a) (print (fmt-str (array-get a 0))))
  (#none (print "none")))
