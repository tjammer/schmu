fun drop_rc(str&, rc!) {
  match rc/extract(rc) {
    Some(v) -> &str = v
    None -> ()
  }
}

let str& = copy("")
drop_rc(&str, !rc/create(!copy(",.p")))

fun move_out() {
  let rc = rc/create(!Some(copy("str")))
  match __unsafe_rc_get(rc) {
    Some(v) -> (v, 0)
    None -> (copy(""), 0)
  }|> ignore
}

move_out()
