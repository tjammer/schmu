(external printi (fun int unit))

(type (t 'a) {:null int :first int :gen 'a :third bool})

(type (gen_first 'a) {:only 'a :is bool})

(fun print_bool [b]
  (if b (printi 1) (printi 0)))

(fun first [any]
  (printi (.first any)))

(fun gen [any] (.gen any))

(fun third [any]
  (print_bool (.third any)))

(fun only [any] (.only any))

(fun is [any]
  (print_bool (.is any)))

(val int_t {:null 0 :first 700 :gen 20 :third true})
(val f {:only 420 :is false})

(first int_t)
(third int_t)
(printi (gen int_t))
(printi (only f))
(is f)
