external printf : (String.cstr, int) -> unit

type test = Float(float) | Int(int) | None

fun doo(m): match m:
  Some(Float(f)): int_of_float(f)
  Some(Int(i)): i
  Some(None): 1
  None: 0

doo(Some(Float(3.0))) |> printf(String.data("%i\n"))
doo(Some(Int(2))) |> printf(String.data("%i\n"))
doo(Some(None)) |> printf(String.data("%i\n"))
doo(None) |> printf(String.data("%i\n"))
