(external printf (fun cstr int unit))

(variant test ((#float float) (#int int) #non))

(fun doo [m]
  (match m
    (#some (#float f)) (int_of_float f)
    (#some (#int i)) i
    (#some #non) 1
    #none 0))

(->> (doo (#some (#float 3.0)))
     (printf (.cstr "%i\n")))
(->> (doo (#some (#int 2)))
     (printf (.cstr "%i\n")))
(->> (doo (#some #non))
     (printf (.cstr "%i\n")))
(->> (doo #none)
     (printf (.cstr "%i\n")))
