(external printf (fun string/cstr int unit))

(type test ((#float float) (#int int) #none))

(defn doo [m]
  (match m
    ((#some (#float f)) (int_of_float f))
    ((#some (#int i)) i)
    ((#some #none) 1)
    (#none 0)))

(->> (doo (#some (#float 3.0)))
     (printf (array/data "%i\n")))
(->> (doo (#some (#int 2)))
     (printf (array/data "%i\n")))
(->> (doo (#some #none))
     (printf (array/data "%i\n")))
(->> (doo #none)
     (printf (array/data "%i\n")))
