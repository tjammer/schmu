(external printf (fun string/cstr int int int unit))

(def limit 3)

-- this works
(defn nested (a b)
  (cond
    ((= b limit) (nested (+ a 1) 0))
    ((= a limit) ())
    (else (do
            (printf (string/data "%i, %i\n") a b 0)
            (nested a (+ b 1))))))

(nested 0 0)

(printf (string/data "\n") 0 0 0)

(defn nested (a b c)
  (cond
    ((= b limit) (nested (+ a 1) 0 c))
    ((= c limit) (nested a (+ b 1) 0))
    ((= a limit) ())
    (else (do
            (printf (string/data "%i, %i, %i\n") a b c)
            (nested a b (+ c 1))))))

(nested 0 0 0)

(defn nested (a b c)
  (cond
    ((= b limit) (nested (+ a 1) 0 c))
    ((= a limit) ())
    ((= c limit) (nested a (+ b 1) 0))
    (else (do
            (printf (string/data "%i, %i, %i\n") a b c)
            (nested a b (+ c 1))))))

0
