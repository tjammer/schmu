(val arr [1 2 3 4 5 6 7 8 9 10])

(fun string-append [str& app]
  (array-iter app (fun [char] (array-push &str char))))

(fun string-add-null [str&]
  (array-push &str 0u8)
  (array-drop-back &str))

(fun string-concat [arr delim]
  (val acc& "")
  (array-iteri
   arr
   (fun [i v]
     (if (> i 0)
       (string-append &acc delim))
     (string-append &acc (fmt-str v))))
  (string-add-null &acc)
  acc)

(print (string-concat arr ", "))
