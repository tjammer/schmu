-- We need a nonconst value to capture
(type to_capture {:field& int})

-- Wrap into function because globals are not captured
(fun main_ []
     (val a {:field 1})
     (fun []
          (val a (fun [] a))
          a))
