(external printf (fun string/cstr int unit))

(defn doo [a]
-- TODO open modules for patterns
   nonpoly_func/(match a
    (#left  (add_ints 0 5))
    (#right (add_ints 0 -5))))

(defn do2 [a]
  (open nonpoly_func)
  (match a
    (#left  (add_ints 0 5))
    (#right (add_ints 0 -5))))

(->> (doo nonpoly_func/#left)
     (printf (array-data "%i\n")))

(->> (do2 nonpoly_func/#left)
     (printf (array-data "%i\n")))
