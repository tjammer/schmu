(external printf (fun string/cstr int unit))

(defn doo (a)
-- TODO import modules for patterns
   nonpoly_func/(match a
    (#left  (add_ints 0 5))
    (#right (add_ints 0 -5))))

(defn do2 (a)
  (import nonpoly_func)
  (match a
    (#left  (add_ints 0 5))
    (#right (add_ints 0 -5))))

(->> (doo nonpoly_func/#left)
     (printf (string/data "%i\n")))

(->> (do2 nonpoly_func/#left)
     (printf (string/data "%i\n")))
